{
  "document": {
    "dsl": "1.0.0",
    "name": "Workflow",
    "tags": {
      "projectId": "6780b895",
      "solutionId": "ad6cd2f8"
    },
    "version": "0.0.1",
    "namespace": "default",
    "metadata": {
      "variables": []
    }
  },
  "input": {
    "schema": {
      "format": "json",
      "document": {
        "type": "object",
        "properties": {
          "amount": {
            "type": "number"
          }
        },
        "title": "Inputs"
      }
    }
  },
  "output": {
    "schema": {
      "format": "json",
      "document": {
        "type": "object",
        "properties": {
          "status": {
            "type": "boolean"
          }
        },
        "title": "Outputs",
        "required": [
          "status"
        ]
      }
    }
  },
  "do": [
    {
      "Sequence_1": {
        "do": [
          {
            "WorkflowStart": {
              "set": "${Object.entries($workflow.definition?.document?.metadata?.variables?.schema?.document?.properties || {}).reduce((acc, [name, def]) => ({ ...acc, [name]: def?.default }), {}) }",
              "output": {
                "as": "${$input}"
              },
              "export": {
                "as": "{ ...$context, variables: { ...$context.variables, ...$output } }"
              },
              "metadata": {
                "activityType": "Assign",
                "displayName": "Workflow start",
                "fullName": "Assign",
                "isTransparent": true
              }
            }
          },
          {
            "Javascript_1": {
              "run": {
                "script": {
                  "code": "return {\n    result: true.join(\"FixMe\")\n}",
                  "language": "javascript",
                  "arguments": "${{\n                        \"$context\": $context,\n                        \"$workflow\": $workflow,\n                        \"$input\": $input,\n                    }}"
                }
              },
              "export": {
                "as": "{ ...$context, outputs: { ...$context?.outputs, \"payment_status\": $output } }"
              },
              "metadata": {
                "activityType": "JsInvoke",
                "displayName": "Javascript",
                "fullName": "JsInvoke",
                "outputName": "payment_status"
              }
            }
          },
          {
            "Response_1": {
              "response": "${{\n status: $context.outputs.payment_status.result\n}}",
              "markJobAsFailed": false,
              "then": "end",
              "export": {
                "as": "{ ...$context, outputs: { ...$context?.outputs, \"Response_1\": $output } }"
              },
              "metadata": {
                "activityType": "Response",
                "displayName": "Response",
                "fullName": "Response"
              }
            }
          }
        ],
        "metadata": {
          "activityType": "Sequence",
          "displayName": "Sequence",
          "fullName": "Sequence"
        }
      }
    }
  ],
  "evaluate": {
    "mode": "strict",
    "language": "javascript"
  }
}